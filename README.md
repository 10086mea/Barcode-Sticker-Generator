# 高级条形码贴纸生成器 (Advanced Barcode Sticker Generator) V4.1

这是一个使用 Python 和 Tkinter 构建的功能强大的图形用户界面（GUI）应用程序，用于设计和生成自定义的商品条形码贴纸。

它特别适合需要为二手商品（如书籍、游戏等）快速制作包含价格、条码和详细信息的标签的场景。

![Application Screenshot](https://i.imgur.com/example.png)  
*(建议替换为实际的应用截图)*

---

### 主要功能

* **可视化界面:** 通过直观的图形界面轻松编辑所有贴纸元素。
* **自由变换:** 直接在画布上操作元素。
    * **拖拽移动:** 单击并拖动任何元素以重新定位。
    * **拉伸缩放:** 选中单个元素后，拖动其边框上的控制柄来直观地调整大小（文本对应字号，条码对应宽高）。
* **实时预览:** 所有更改都会立即反映在预览画布上。
* **动态光标:** 鼠标光标会根据其所在位置（元素、缩放手柄或背景）自动变化，提供清晰的操作反馈。
* **多选支持:** 按住 `Ctrl` 键可选择多个元素进行批量移动。
* **高度可定制:**
    * 编辑文本内容、位置、字体大小、颜色和排列方式（横排/竖排）。
    * 生成 Code128 格式的条形码。
    * 添加任意数量的自定义文本字段。
* **模板系统:**
    * 将您的布局设计保存为 `.json` 模板文件。
    * 随时加载模板以恢复常用布局。
* **高质量导出:** 将最终的贴纸导出为高分辨率的 PNG 图像，方便打印。
* **自动价格计算:** 根据“本体售价”和“消费税率”自动计算含税总价和税额。

---

### 安装与运行

#### 1. 环境准备

* 确保您已安装 Python 3.x。
* (可选) 建议创建一个虚拟环境来管理依赖。

```bash
python -m venv venv
source venv/bin/activate  # On Windows, use `venv\Scripts\activate`
```

#### 2. 安装依赖库

应用程序依赖于 `Pillow` 和 `python-barcode` 库。您可以通过 `pip` 和 `requirements.txt` 文件来安装它们。

```bash
pip install -r requirements.txt
```

#### 3. 运行程序

直接执行 Python 脚本即可启动应用程序。

```bash
python sticker_generator.py
```
*(请将 `sticker_generator.py` 替换为您保存脚本的实际文件名)*

---

### 使用指南

1.  **编辑信息:** 在左侧的 "主要信息" 区域填写商品详情。
2.  **调整配置:** 在 "配置" 区域设置字体、税率、导出尺寸等。
3.  **排版布局:**
    * **通过输入框微调:** 在下方的 "排版微调" 列表中，精确输入每个元素的坐标 (`X`, `Y`) 和尺寸/字号。
    * **通过画布调整:**
        * 在右侧预览区单击一个元素以选中它。
        * 选中后，直接拖动它来移动位置。
        * 如果只选中一个元素，会出现带控制柄的边框。拖动角点或边缘的控制柄来改变它的大小。
        * 按住 `Ctrl` 键并单击，可以选择或取消选择多个元素，然后一起拖动它们。
4.  **模板操作:**
    * 点击 "保存模板" 将当前布局和数据保存为 `.json` 文件。
    * 点击 "载入模板" 从 `.json` 文件恢复之前的设计。
5.  **导出图像:**
    * 点击 "导出图片"，将当前设计的贴纸保存为一个 PNG 文件。
